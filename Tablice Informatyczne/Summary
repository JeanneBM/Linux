Strony Podrecznika Obslugi Systemu

System Linux zawiera rozbudowana dokumentacje techniczna, umozliwiajaca uzyskanie w dowolnym momencie szczegolowych informacji
na temat kazdego z polecen, wraz z lista jego opcjonalnych parametrow.

apropos 'temat'   Wyswietlenie listy nazw stron systemowego podrecznika wiazanych z tematem o nazwie /temat/.
                  Przyklad: apropos permission 
                
man 'temat'       Wyswietlenie strony systemowego podrecznika zwiazanej z tematem o nazwie /temat/. 
                  Najczesciej nazwa tematu jest po prostu nazwa polecenia systemowego.
                  Przyklad: man chmod
                  
Wiele polecen wyswietla rowniez skrocony opis swojego dzialania po wywolaniu polecenia z parametrem --help.

-------------------------------------------------------------------------------------------------------------------------------------
 Struktura Katalogow Systemu

/boot - katalog zawierajacy pliki niezbedne do uruchomienia systemu operacyjnego 
        (miedzy innymi tzw. jªdro systemu operacyjnego)
        
/etc -  katalog zawierajacy pliki konfiguracyjne, odpowiadajace za sposob funkcjonowania systemu operacyjnego oraz wiekszosci 
        dzialajacych pod jego kontrola aplikacji.      
       
/root - prywatny folder administratora systemu operacyjnego (korzystajacego z konta root)

/home - katalog zawierajacy prywatne foldery poszczegolnych uzytkownikow systemu operacyjnego

/dev  - katalog przechowujacy odnosniki do sterownikow urzadzen zamontowanych w komputerze; 
        programy, odwolujac sie do tych odnosnikow, uzyskuja dostep do urzadzen i komunikuja sie z nimi.
        
/lib  - katalog zawierajacy biblioteki procedur i modulow uzywanych przez aplikacje.

/mnt  - katalog, w ktorego katalogach podrzednych montowana jest zawartosc wymiennych lub dostepnych poprzez siec 
        nosnikow informacji - dyskietek, płyt CD-ROM, wspoldzielonych zasobow sieciowych itp.
       
/proc - pseudokatalog, dajacy dostep do zaawansowanych funkcji diagnostycznych i konfiguracyjnych systemu operacyjnego;
        katalog /proc w rzeczywistosci nie istnieje na dysku twardym komputera i jest tworzony od nowa po kazdym 
        uruchomieniu systemu.

/bin  - katalog zawierajacy narzedzia administracyjne, dostepne przede wszystkim dla administratorow systemu operacyjnego,
        ale rowniez dla wybranych uzytkownikow.
        
/sbin - katalog zawierajacy systemowe narzedzia administracyjne

/tmp  - katalog sluzacy do przechowywania danych tymczasowych, potrzebnych jedynie chwilowo.

/var  - katalog zawierajacy pliki tworzone przez programy dzialajace na komputerze;
        czesc z nich tworzona jest tylko tymczasowo i przestaje istniec po wylaczeniu programow lub systemu operacyjnego,
        czesc zas istnieje przez caly czas dzialania systemu i jedynie podlega modyfikacjom
        
/lost + found - katalog, w ktorym umieszczane sa pliki odtworzone po awarii systemu operacyjnego, ktora zakonczyla sie 
                utrata danych 
                
/opt   - katalog, w ktorym instalowane sa niektore aplikacje

/usr   - katalog zawierajacy programy, moduly i biblioteki procedur dostepne dla wszystkich uzytkownikow systemu operacyjnego

-------------------------------------------------------------------------------------------------------------------------------------
Oznaczenia Urzadzen i Nosnikow Danych

Urzadzenia zewnetrzne i nosniki danych sa identyfikowane przez pseudo-pliki znajdujace sie w katalogu /dev.

Typowe oznaczenia urzadzen:
- /dev/hdX -   urzadzenia IDE, ATA i ATAPI (w starszych wersjach systemu Linux, obecnie oznaczenie wycofane)
               - od /dev/hda do /dev/hdz w zaleznosci od liczby podlaczonych urzadzen,
               
- /dev/sdX -   urzadzenia SATA bi SCSI, a obecnie rowniez IDE, ATA i ATAPI - od /dev/sda do /dev/sdz w zaleznosci 
               od liczby podlaczonych urzadzen,
               
- /dev/lpX -   drukarki, od /dev/lp0 w gore bw zaleznosci od liczby obslugiwanych drukarek

- /dev/sgX -   urzadzenia SATA, SCSI i inne, niebedace nosnikami danych (np. napedy optyczne, skanery)

- /dev/srX -   urzadzenia SATA, SCSI i inne umozliwiajace rejestracje danych (np. napedy optyczne z funkcja zapisu,
                                                                              napedy tasmowe)
               
- /dev/null -  urzadzenie wirtualne, przyjmuje nieskonczone ilosci danych i ignoruje je, nie wydaje z siebie zadnych informacji
               uzywane do likwidowania niepozadanych strumieni danych
               
- /dev/zero -  urzadzenie wirtualne, nie przyjmuje danych i genereuje nieskonczony ciag zer (w sensie binarnym);
               uzywanie do zapelniania blokow danych pustymi bajtami (o zerowej wartosci) 
               
- /dev/random -   urzadzenie wirtualne, nie przyjmuje danych i generuje nieskonczony ciag losowych wartosci binarnych;
                  uzywane do kasowania informacji poufnych lub w kryptografii
                  
Nosniki danych, ktore moga byc podzielone na partycje, dodatkowo sa dostepne jako odrebne urzadzenia wirtualne 
reprezentujace poszczegolne partycje. Na przyklad nosnik /dev/sda podzielony na trzy partycje podstawowe moze byc
dostepny dodatkowo jako urzadzenia /dev/sda1, /dev/sda2 i /dev/sda3.

-------------------------------------------------------------------------------------------------------------------------------------
Symbole Wieloznaczne

* Zastepuje dowolny ciag znakow o niekoreslonej dlugosci
? Zastepuje dokladnie jeden znak
[ ] Wskazuja zakres znakow

Przyklady:

szu*s: szumilas, szus, szufelka-2s
*-miniatura: l-miniatura, zdjecie-miniatura
zdjecie?x:zdjecielx, zdjecie2x, zdjecie-x, zdjecieax

-------------------------------------------------------------------------------------------------------------------------------------
Laczenie wielu polecen

janek@serwerek:-$ echo Pierwszy; echo Drugi; echo A tu mamy \; srednik 

Pierwszy 
Drugi
A tu mamy ; srednik 


Ogolna Obsluga /
-------------------------------------------------------------------------------------------------------------------------------------
Obsluga Klawiatury i Ekranu

reset       Ponownie inicjalizuje konsolę wirtualną. Polecenie przydatne w przypadku, gdy zrealizowane wcześniej polecenie spowoduje 
            błędne działanie konsoli (np. zmianę alfabetu tak, że zamiast liter pojawiają się symbole) 
            
clear       Wyczyszczenie aktvwnej konsoli wirtualnej 

echo 'opcje' tekst    Wyświetla na ekranie podany tekst. Z najbardziej użytecznych opcji -n powoduje rezygnację z kończenia wypisywanego tekstu 
                      znakiem końca wiersza, co umożliwia stopniowe dopisywanie informacji w tym samym wierszu.
                
read 'nazwa-zmiennej'       Odczytuje tekst z klawiatury i wstawia do zmiennej o nazwie 'nazwa-zmiennej'. Aby odwołać się później do tej zmiennej, 
                            musisz poprzedzić jej nazwę znakiem $. 
                            
                            Przykład:   
                            user@shoebox: N$ read zmienna 
                            abcdef 
                            user@shoeb
                            
-------------------------------------------------------------------------------------------------------------------------------------
Montowanie Systemow Plikow

mount 'nazwa''gdzie''opcje'   Montuje (podlacza) system plikow z urzadzenia 'nazwa' w katalogu 'gdzie'. 
                              Katalog docelowy musi istniec i powinien byc pusty. 
                              Opcje:
                               
                              -t typ - okresla typ systemu plikow (na przykład iso9660, ext2, ext3, reiserfs). 
                              -o opcje - dodatkowe opcje procesu montowania; 
                                      najwazniejsze z nich to: 
                                       async - asynchroniczne wykonywanie operacji wejscia-wyjscia, 
                                       sync - synchroniczne (mniej wydajne, choc bezpieczniejsze) wykonywanie operacji wejscia-wyjscia, 
                                       exec - umozliwia wykonywanie plikow binarnych z systemu plikow, 
                                       noexec - uniemozliwia wykonywanie plikow binarnych z systemu plikow, 
                                       noatime - nie aktualizuje zapisu czasu ostatniego dostepu do pliku, co zwieksza wydajnosc, 
                                       remount - dokonuje podlaczenia juz zamontowanego systemu plikow, zmieniajac tylko opcje 
                                                 procesu montowania,
                                       ro - podlaczenie systemu plikow w trybie tylko do odczytu, 
                                       rw - podlaczenie systemu plikow w trybie do odczytu i zapisu. 
                                       
umount 'nazwa'      Odlacza system plikow zamontowany w katalogu co, czyniac go niedostepnym. 
                    Operacji tej moze dokonac jedynie administrator (root) systemu. Odlaczany system plikow nie powinien byc uzywany. 
                    Opcje: 
                    -f - dokonuje proby wymuszenia odlaczenia systemu plikow (jezeli jest on uzywany), 
                    -1 - oznacza system plikow jako skierowany do odlaczenia i dokonuje automatycznie jego odlaczenia 
                         przy pierwszej nadarzajacej sie okazji (jezeli aktualnie jest uzywany i nie moze byc odlaczony natychmiast). 
                         
                     Odlaczenie systemu plikow przed odlaczeniem urzadzenia, na ktorym zapisane sa dane w ramach tego systemu plikow, 
                     jest warunkiem koniecznym ochrony przed utrata danych. Zamontowane systemy plikow moga nie byc poprawnie 
                     zaktualizowane na nosniku i przedwczesne (bez odlaczenia systemu plikow) odlaczenie 
                     lub wylaczenie urzadzenia moze spowodowac utrate danych.
                    
mount --bind 'nazwa''gdzie'       Przekierowuje caly katalog 'nazwa' wraz z zawartoscia do katalogu 'gdzie'. 
                                  Katalog gdzie musi istniec i powinien byc pusty (poprzednia jego zawartosc staje sie niewidoczna, 
                                  lecz nie zostaje utracona). Oba katalogi mogą lezec w roznych systemach plikow. 
                                  Operacji tej moze dokonac jedynie administrator (root) systemu. 


sync        Synchronizuje stan buforow w pamieci operacyjnej z zawartoscia nosnikow danych, minimalizujac (lecz nie likwidujac) ryzyko 
            utraty danych w momencie naglego odlaczenia zasilania lub odlaczenia urzadzenia pamieci masowej 
            bez wczesniejszego odlaczenia systemu plikow. 
            
-------------------------------------------------------------------------------------------------------------------------------------
Informacje o Systemach Plikow

mount       Wyswietla liste zamontowanych (widocznych dla systemu) systemow plikow 
            (czyli urzadzen i partycji zawierajacych zrozumiale dla systemu operacyjnego i uzyteczne dla uzytkownika dane).
            
            Przyklad: 
            root@shoebox :~# mount 
            /dev/hdal on / type ext3 (rw) 
            
            Oznacza, ze urządzenie /dev/hdal zostalo zamontowane w katalogu I (glownym), uzywa systemu plikow ext3 
            i jest dostepne w trybie do odczytu i zapisu (rw). 
            

          
df          Wyswietla pojemnosc (calkowita i dostepna) wszystkich zamontowanych aktualnie systemow plikow oraz katalog, 
            w ktorym dany system plikow zostal zamontowany.
            
            Przyklad:
            root@shoebox :~# df
            
            Filesystem    lk-blocks   Used      Available   Use%   Mounted on 
            /dev/hdal     3954432     3542276   200040      95%    /
            
            Oznacza, ze urzadzenie /dev/hdal jest zamontowane w katalogu I (glownym), ma pojemnosc 3 954 342 KB, 
            z czego uzyte jest 3 542 276 KB (95%), a wciaz do wykorzystania pozostaje 208 040 KB.
            
            
            
du          Wyswietla rozmiar podanego pliku lub katalogu. Umozliwia wyswietlanie rozmiarow wielu elementow jednoczesnie 
            oraz rekursywne wyznaczanie rozmiarow. 
            
            Najczesciej uzywane opcje:
            -a - wyswietla rozmiary wszystkich plikow, a nie tylko katalogow, 
            -s - dokonuje rekursywnego sumowania rozmiarow podkatalogow i prezentuje wylacznie rozmiar podanego katalogu, 
                 zamiast wyswietlania indywidualnych rozmiarow wszystkich podkatalogow w glebi hierarchii, 
            -x - nie dokonuje obliczen dla napotykanych katalogow znajdujacych sie na innych systemach plikow niz poczatkowy, 
            -c - dolacza sumaryczna informacje o rozmiarze wszystkich przetworzonych elementow. 
            
            Przyklad:
            -root@shoebox :~# du -s *
            
            4688 bin 
            4128 boot 
            428 dev 
            
-------------------------------------------------------------------------------------------------------------------------------------
Partycjonowanie Nosnikow Danych


!! Partycjonowanie nosnikow danych jest operacja destruktywna. Usuniecie partycji lub zmiana jej parametrow moze spowodowac utrate dostępu 
do danych lub ich bezpowrotne uszkodzenie.

fdisk 'nosnik'     Uruchamia program partycjonowania nosnika 'nosnik', np. fdisk /dev/sda. 
                   
                   Polecenia dostepne w trybie partycjonowania nosnika danych:
                   - m - wyswietlenie objasnienia poszczegolnych funkcji programu, 
                   - q - konczy dzialanie programu bez zapisywania jakichkolwiek zmian, 
                   - w - zapisuje zmiany wprowadzone w tablicy partycji i konczy dzialanie programu, 
                   - p - wyswietlenie aktualnej zawartosci tablicy partycji (z uwzglednieniem ewentualnie wprowadzonych zmian), 
                   - o - usuniecie wszystkich partycji i utworzenie nowej, czystej tablicy partycji, 
                   - n - utworzenie nowej partycji, 
                   - a - oznaczenie wybranej partycji podstawowej jako przeznaczonej do rozruchu systemu operacyjnego, 
                   - t - zmiana identyfikatora typu wybranej partycji, 
                   - d - usuniecie wybranej partycji, 
                   - v - weryfikacja poprawnosci tablicy partycji, 
                   - c - wylaczenie zgodnosci z systemem DOS i przejscie do trybu zarzadzania partycjami wg numeracji sektorow logicznych (LBA). 
                   
-------------------------------------------------------------------------------------------------------------------------------------
Nawigowanie Pomiedzy Katalogami

pwd  - Wyswietlanie nazwy biezacego katalogu

cd - Przejcie do katalogu domowego 

cd ..  - Przejscie do katalogu nadrzednego

cd 'nazwa'  - Przejscie do katalogu /nazwa/

cd katalog1/katalog2/../katalog3  - Przejscie do katalogu z pominieciem kilku katalogow posrednich

mkdir 'nazwa' - Utworzenie katalogu /nazwa/

rmdir 'nazwa' - Usuniecie pustego katalogu /nazwa/

rm 'nazwa' -r -f  - Usuniecie katalogu /nazwa/ wraz ze wszystkimi znajdujacymi sie w nim plikami i katalogami.
                      
                    Przelacznik -f pozwala zapobiec pytaniu o potwierdzenie checi usuniecia danych
                    (zaleznego od ustawien srodowiska uzytkownika)
                
-------------------------------------------------------------------------------------------------------------------------------------
Tworzenie i Usuwanie Plikow

touch 'nazwa'    Utworzenie pustego pliku o nazwie 'nazwa'

rm 'nazwa' -f    Usuniecie pliku o nazwie 'nazwa'.
                 Przelacznik -f pozwala zapobiec pytaniu o potwierdzenie checi usuniecia danych 
                 (zaleznego od ustawien srodowiska uzytkownika)
                 
dd if=/dev/zero of=nazwa bs=1 count=n   Utworzenie pliku o nazwie 'nazwa' zawierajacego n bajtow o wartosci 0.

-------------------------------------------------------------------------------------------------------------------------------------
Zarzadzanie Plikami

cp 'opcje' 'skad''dokad'    Kopiuje plik lub katalog (czyli tworzy ich kopie, pozostawiajac oryginal bez zmian) podane jako pierwszy
                            parametr do katalogu lub pliku o nazwie podanej jako drugi parametr. Nazwa zrodła danych moze byc nazwa 
                            wieloznaczna. Poniewaz parametry oddzielone sa znakiem spacji, nalezy bardzo uwazac na nazwy plikow 
                            i katalogow zawierajace spacje. Kazda spacje nalezy poprzedzic znakiem \ lub zamiennie cala nazwe pliku 
                            nalezy zawrzec w znakach cudzyslowu.
                            
                            Najczesciej uzywane opcje polecenia: 
                            -i- prosi o potwierdzenie (klawiszem y) operacji w przypadku proby skopiowania pliku w miejsce 
                                lub pod nazwe juz istniejaca na dysku 
                            -R- kopiuje wszystkie pliki znajdujace sie wewnatrz kopiowanych katalogow 
                                (bez tego parametru kopiowane sa same katalogi, bez plikow, ktore zawieraja) 
                            -p- zachowuje dane o wlascicielu pliku i prawach dostepu do niego; 
                                przydatna w razie kopiowania przez administratora katalogow domowych uzytkownikow w nowe miejsce, 
                                aby nie naruszyc narzuconej im struktury praw dostępu
                            -V- wyswietla w czasie wykonywania operacji kopiowania nazwy kolejno przetwarzanych plikow
                            
mv 'opcje' 'skad''dokad'    Funkcjonuje analogicznie do polecenia cp, lecz zamiast kopiowac pliki przenosi je, 
                            a wiec tworzy kopie w miejscu docelowym i usuwa oryginaly. Nazwa zrodla danych moze byc nazwa wieloznaczna.  
                            W miare mozliwosci przeniesione pliki zachowuja wszystkie informacje na temat wlasciciela pliku i praw dostepu. 

                            Najczesciej uzywane opcje polecenia:
                            -i- prosi o potwierdzenie operacji w przypadku proby skopiowania pliku w miejsce lub pod nazwe juz istniejaca 
                                na dysku 
                            -v- wyswietla w czasie wykonywania operacji kopiowania nazwy kolejno przetwarzanych plikow 
                            
rm 'opcje' 'nazwa'          Usuwa wskazane pliki lub katalogi. Domyslnie usuniecie jest natychmiastowe i nieodwracalne 
                            (niektore dystrybucje wprowadzaja obowiazek potwierdzania). 
                            Najczesciej uzywane opcje polecenia: 
                            -f - usuwa pliki bez wymagania potwierdzenia (jezeli ustawienia systemu wymagaja potwierdzania) 
                            -r - usuwa pliki rekursywnie (po napotkaniu katalogu wskazane pliki sa usuwane rowniez z wnetrza katalogu) 
                            -i - prosi o potwierdzanie kazdej operacji usuniecia pliku
                            
-------------------------------------------------------------------------------------------------------------------------------------
Wyszukiwanie Plikow

find 'punkt-startowy''wyrazenie'    Wyszukuje pliki o nazwach spelniajacych okreslone warunki, rozpoczynajac od podanego katalogu. 
                                    find / przeszuka wszystkie katalogi na wszystkich systemach plikow, 
                                    a find . rozpocznie poszukiwania od biezacego katalogu. 
                                    
                                    Najczesciej stosowane opcje i wyrazenia: 
                                    -maxdepth n - ogranicza glebokosc rekurencji do n poziomow, 
                                    -xdev - uniemozliwia przegladanie innych systemow plikow niz poczatkowy,
                                    -amin n - wyszukuje pliki uzywane do n minut temu, 
                                    -cmin n - wyszukuje pliki zmodyfikowane do n minut temu, 
                                    -empty - wyszukuje pliki o rozmiarze O i puste katalogi, 
                                    -name 'nazwa' - wyszukuje pliki o podanej nazwie (mozna stosowac symbole wieloznaczne),
                                    -iname 'nazwa' - analogiczne do -name, lecz nie rozroznia malych i wielkich liter. 
                                    
                                    Przyklad: 
                                    user@shoebox:-$ find . -iname "char*" 
                                    ./Dokumenty/Charts.ods 
                                    ./C++ Projects/ a/charsize.c 
                                    ./Ghart.pmc 
                                    
-------------------------------------------------------------------------------------------------------------------------------------

Pomiar Czasu

time 'polecenie'        Mierzy czas realizacji polecenia podanego jako parametr i wyswietla go zaraz po zakonczeniu realizacji tego polecenia.
                        Przyklad:
                        user@shoebox:~$ time find . ~maxdepth 1 -iname "a*"
                        ./a.txt
                        ./avr
                        ./a.oos
                        real 0m0.406s
                        user 0m0.012s
                        sys  0m0.004s
                        
-------------------------------------------------------------------------------------------------------------------------------------
Archiwizowanie Plikow (tar)

tar 'opcje' 'nazwa-archiwum' 'dodatkowe parametry'

Najczesciej stosowane opcje:
c - Utworzenie nowego archiwum
x - Wydobycie plikow z istniejacego archiwum
t - Wyswietylenie listy plikow znajdujacych sie w archiwum
f - Pobieranie i wysylanie danych z lub do pliku
v - Wyswietlanie nazw przetwarzanych w danym momencie plikow i szczegolowych informacji o nich
z - Wykorzystanie programu gzip, przeprowadzajacego kompresje danych. 
    Kompresja gzip nie jest bardzo skuteczna, stanowi jednak pewnego rodzaju standard.
j - Wykorzystanie programu bzip, przeprowadzajacego kompresje danych. 
    Kompresja bzip nie jest jeszcze obslugiwana przez niektore narzedzia, 
    jest jednak znacznie skuteczniejsza od kompresji gzip.

Przyklady:

tar xfvz /src/oident.tgz          Wydobywa wszystkie pliki z archiwum o nazwie /src/oident.tgz

tar xfvj /src/oident.tar.bz2 *.h    Wydobywa z archiwum o nazwie /src/oident.tar.bz2 wszystkie pliki o nazwach spelniajacych 
                                    warunek wieloznaczny
                                  
tar cfjv /backup/nowe.tar.bz2 /home/    Tworzy nowe archiwum o nazwie /backup/nowe.tar.bz2 
                                        (skompresowane za pomoca programu bzip2), 
                                        zawierajace wszystkie pliki i katalogi zapisane w katalogu /home
                                            
tar tfz /home/linux-2.4.26.tgz    Wyswietla na ekranie zawartosc archiwum o nazwie /nowe/linux-2.4.26.tgz



gzip 'nazwa'        Kompresuje zawartosc pliku 'nazwa' z wykorzystaniem algorytmu gzip, usuwajac ten plik z dysku 
                    i zastepujac plikiem skompresowanym o nazwie z dolaczonym .gz. 
                    Mozliwe jest podanie kilku nazw plikow lub nazwy wieloznacznej. 
                    
gunzip 'nazwa'      Dziala analogicznie jak gzip, dokonuje jednak dekompresji zawartosci pliku i usuwa .gz z jego nazwy. 

bzip2 'nazwa'       Kompresuje zawartosc pliku 'nazwa' z wykorzystaniem algorytmu bzip, usuwajac ten plik z dysku 
                    i zastepujac plikiem skompresowanym o nazwie z dolaczonym .bz2. 
                    Mozliwe jest podanie kilku nazw plikow lub nazwy wieloznacznej. 
                    
bunzi p2 'nazwa'    Dziala analogicznie jak bzip2, dokonuje jednak dekompresji zawartosci pliku i usuwa .bz2 z jego nazwy.

-------------------------------------------------------------------------------------------------------------------------------------
Tworzenie, Modyfikacja i Zarzadzanie Kontami Uzytkownikow

whoami            Wyswietla nazwe aktualnie uzywanego konta uzytkownika
su                Chwilowe uzyskanie uprawnien administratora systemu
su 'nazwa'        Chwilowe przelaczenie sie na konto uzytkownika o innych uprawnieniach
                  (opcja dostepna tylko dla administratora systemu)
useradd 'nazwa'   Tworzy konto uzytkownika o nazwie 'nazwa'.

                  Najczesciej uzywane parametry:
                  -g 'nazwa'    Wybor grupy uzytkownikow, do ktorej nalezec bedzie tworzone konto
                  -m            Utworzenie katalogu domowego dla zakladanego konta uzytkownika
                  -s 'nazwa'    Wybiera domyslna powloke systemowa dla tworzonego konta. 
                                Polecane jest korzystanie z powloki /bin/bash
                                
userdel 'nazwa'   Usuwa konto uzytkownika o nazwie 'nazwa'. 
                  Dodanie parametru -r spowoduje jednoczesne usuniecie katalogu domowego tego uzytkownika
               
groups 'nazwa'    Wyswietla nazwy grup uzytkownika o nazwie 'nazwa'.
                  Dodanie parametru -r spowoduje jednoczesnie usuniecie katalogu domowego tego uzytkownika.
                 
cat /etc/group    Wyswietla szczegolowe informacje dotyczace wszystkich grup uzytkownikow istniejacych w systemie.

cat /etc/passwd   Wyswietla szczegolowe informacje dotyczace wszystkich kont uzytkownikow istenijacych w systemie.

passwd            Zmiana wlasnego hasla.

passwd 'nazwa'    Zmiana hasla zwiazanego z dowolnym kontem uzytkownika (opcja dostepna tylko dla administratora systemu).

groupadd 'nazwa'  Tworzy grupe uzytkownikow, nazwana 'nazwa'

groupdel 'nazwa'  Usuwa grupe uzytkownikow, nazwana 'nazwa'.


Format pliku /etc/passwd

Plik /etc/passwd zawiera kompletna liste kont uzytkownikow istniejacych w systemie
gruszka:x:1000:100:Radoslaw Sokol:/home/gruszka:/bin/bash

Nazwa konta:-(czy jest haslo uzywane):Liczbowy identyfikator konta uzytkownika:Liczbowy identyfikator podstawowej grupy 
uzytkownikow, do ktorej nalezy konto (standard 1000 w gore, 100 to szczegolni uzytkownicy):Opisowa nazwa konta uzytkownika:
Nazwa katalogu domowego uzytkownika:Nazwa powloki systemowej przypisanej uzytkownikowi.

W polu zawierajacym znak :x: kiedys przechowywane bylo haslo chroniace dostepu do konta uzytkownika. Poniewaz pozwalalo to 
administratorowi podgladac bezposrednio hasla wszystkich uzytkownikow, w nowszych wersjach systemu Linux hasla zapisane sa -
w formie zaszyfrowanej - w pliku /etc/shadow.


Format pliku /etc/group

Plik /etc/group zawiera kompletna liste grup kont uztkownikow istniejacych w systemie.
DomainAdmins::54:root,grush

Nazwa grupy uzytkownikow::Liczbowy identyfikator grupy uzytkownikow:Lista kont uzytkownikow nalezacych do danej grupy.

Kazde z kont uzytkownikow moze nalezec do dowolnej liczby grup uzytkownikow, jednak tylko jedna grupa jest wskazana 
w pliku /etc/passwd jako podstawowa.

-------------------------------------------------------------------------------------------------------------------------------------
Kontrolowanie Praw Dostepu Do Plikow i Katalogow

Format zapisu praw dostepu
====================================

-     r w x     r w x     r w x

        7         7         7
        
Informacje dodatkowe  
Prawa dostepu dla wlasciciela pliku 
Prawa dostepu dla grupy uzytkownikow posiadajacej czesc uprawnien wlascicela pliku
Prawa dostepu dla pozostalych uzytkownikow systemu operacyjnego.

Znaczenie poszczegolnych symboli praw dostepu
===================================================

0 -       Brak dostepu do pliku
1 --x     Prawo do uruchomienia pliku (lub wejscia do katalogu)
2 -w-     Prawo do zapisywania pliku
3 -wx     Prawo do zapisywania pliku i uruchamiania go (lub wejscia do katalogu)
4 r--     Prawo do odczytywania zawartosci pliku
5 r-x     Prawo do odczytywania zawartosci pliku i uruchamiania go (lub wejscia do katalogu)
6 rw-     Prawo do odczytywania i zmiany zawartosci pliku
7 rwx     Pelne prawa do pliku (odczyt, zapis, uruchamianie)

Symbol informacji dodatkowych (pierwszy znak w linii dostepow)
===================================================================

d   Element jest katalogiem
l   Element jest laczem symbolicznym do pliku lub katalogu
s   Program zostanie uruchomiony w kontekscie konta uzytkownika wskazanego jako wlasciciel pliku, 
    a nie konta uzytkownika aktualnie zalogowanego w systemie

Zmiana wlascicela pliku lub katalogu
=========================================

chown 'konto' 'nazwa'               Nadanie kontu uzytkownika o nazwie 'konto' praw wlasciciela pliku 'nazwa'

chown :'grupa' 'nazwa'              Nadanie grupie uztkownikow o nazwie 'grupa' czesci praw wlascicela pliku o nazwie 'nazwa'

chown 'konto':'grupa' 'nazwa'       Jednoczesne przekazanie praw wlasnosci pliku o nazwie 'nazwa' uzytkownikowi 'konto' 
                                    i grupie uzytkownikow o nazwie 'grupa'
           
Dolaczajac do polecenia parametr -R, spowodujesz zmodyfikowanie praw wlasnosci we wszystkich elementach (plikach i katalogach)
znajdujacych sie w katalogach, ktorych prawa dostepu sa modyfikowane. 

Na przyklad wydajac polecenie chown 'konto':'grupa' 'katalog' -R, spowodujesz przekazanie uzytkownikowi 'konto' 
i grupie 'grupa' praw wlasnosci nie tylko do katalogu 'katalog', ale rowniez do wszystkich znajdujacych sie w nim elementow.

W nazwach plikow i katalogow podawanych jako argument polecenia chown mozesz stosowac symbole wieloznaczne, 
poszerzajac zakres dzialania polecenia. W jednym wierszu polecenia mozewsz tez podac jedna po drugiej kilka nazw plikow 
i katalogow: chown 'konto':'grupa' plik1 plik2 katalog1 katalog2.

Zmiana praw dostepu do pliku lub katalogu
==============================================

chmod 'prawa' 'nazwa'   Ustalenie kodu praw dostepu do pliku o nazwie 'nazwa' na 'prawa'. Kod 'prawa' musi byc podany jako 
                        trzy cyfry z zakresu od 0 do 7, zgodnie z zasadami.
                        
chmod 'zmiana' 'nazwa'  Zmiana kodu praw dostepu do pliku o nazwie 'nazwa'. 


Lancuch znakow 'zmiana' sklada sie z oddzielonych przecinkami elementow (co najmniej jednego) o nastepujacej postaci:

kto     jak     prawa   

kto:
u       Wlascicel pliku
g       Grupa uzytkownikow posiadajacych czesc praw wlascicela pliku
o       Pozostali uzytkownicy
a       Wszyscy uzytkownicy systemu (jednoczesna zmiana wszystkich trzech grup praw dostepu do pliku: wlasciela, grupy 
                                                                                           i pozostalych uzytkownikow)
                                                                                           
jak:
+       Nadanie dodatkowych praw
-       Odebranie wybranych praw
=       Narzucenie praw bez bez zachowania dotychczas obowiazujacych

prawa:
r       read
w       write
x       execute

Brak uprawnien (ma sens tylko przy nadawaniu praw za pomoca symbolu = i odpowiada wtedy lancuchowi -rwx, 
powodujacemu odebranie wszystkich praw do pliku).

Przyklad:

chmod u+x,g-w,o= 'plik'

Plikowi o nazwie 'plik' zosatna nadane nastepujace prawa dostepu:
- Wlasciciel bedzie w stanie uruchomic plik (prawa r i w nie ulegna zmianie),
- Grupa uzytkownikow posiadajacych czesc uprawnien do pliku nie bedzie mogla wprowadzac zmian do plikow 
  (prawa r i x nie ulegna zmianie),
- Pozostali uzytkownicy nie beda dysponowali zadnymi prawami do tego pliku. 



Dolaczajac do polecenia parametr -R, spowodujesz zmodyfikowanie praw wlasnosci we wszystkich elementach 
(plikach i katalogach) znajdujacych sie w katalogach, ktorych prawa dostepu sa modyfikowane. 
Na przyklad wydajac polecenie chmod 750 katalog -R, spowodujesz zmiane uprawnien przypisanych nie tylko katalogowi 'katalog',
ale rowniez wszystkim znajdujacym sie w nim elementowm.

W nazwach plikow i katalogow podawanych jako argument polecenia chmod mozesz stosowac symbole wieloznaczne, 
poszerzajac zakres dzialania polecenia. W jednynm wierszu polecenia mozesz tez podac jedna po drugiej kilka nazw plikow 
i katalogow: chmod 400 plik1 plik2 katalog1 katalog2.

-------------------------------------------------------------------------------------------------------------------------------------
Wyswietlanie Zawartosci Katalogu

komenda ls
Opcjonalnie mozna dolaczyc nazwe katalogu, ktorego zawartosc ma zostac wyswietlona.

Najczesciej stosowane parametry:
-R  Rekursywne wyswietlanie zawartosci wszystkich napotkanych katalogow
-a  Uwzglednianie ukrytych plikow i katalogow
-l  Wlaczenie trybu wyswiatelnaia listy szczegolow dotyczacych plikow i katalogow.

Ukryte pliki i katalogi wyroznione sa kropka na poczatku ich nazwy.

drwxr-xr-x  2    root   root  4096  Sep 25 2003   jhttp/

drwxr-xr-x  Prawa dostepu do pliku lub katalogu
2           Liczba laczy symbolicznych, odnoszacych sie do tego elementu
root  root  Nazwa konta wlasciciela pliku lub katalogu oraz grupy uzytkownikow posiadajacej czesc praw wlasciciela pliku
4096        Rozmiar pliku
Sep 25 2003 Data ostatniej modyfikacji pliku
jhttp/      Nazwa pliku lub katalogu

Przyklady:

ls          Wyswietlenie zawartosci biezacego katalogu
ls / -l     Wyswietlenie szczegolow dotyczacych elementow znajdujacych sie w glownym katalogu 
ls .. -la   Wyswietlenie szczegolow dotyczacych elementow znajdujacych sie w katalogu nadrzednym, 
            z wlaczeniem do listy ukrytych plikow i katalogow 
            
-------------------------------------------------------------------------------------------------------------------------------------
Lacza twarde i symboliczne

Lacza twarde i symboliczne pozwalaja stworzyc wiele odbrebnych nazw plikow i katalogow (znajdujacych sie w wielu roznych 
miejscach systemu plikow), wskazujacych na ten sam, jeden element. Pozwala to uproscic odwolywanie sie do plikow 
lub katalogow znajdujacych sie gleboko w strukturze systemu plikow lub utworzyc biblioteke czesto wykorzystywanych plikow.

ln -s 'istniejacy-plik' 'nazwa-lacza'     Tworzy lacze symboliczne do pliku lub katalogu o nazwie 'istniejacy-plik' nazwane 'nazwa-lacza'
                                          
ln 'istniejacy-plik' 'nazwa-lacza'        Tworzy lacze twarde do pliku lub katalogu 'istniejacy-plik' nazwane 'nazwa-lacza' 

rm -f 'nazwa-lacza'     Usuwa lacze symboliczne o nazwie 'nazwa-lacza', nie usuwajac obiektu, na ktory wskazuje lacze

-------------------------------------------------------------------------------------------------------------------------------------
Przetwarzanie Potokowe

strumien wejsciowy            PROGRAM             strumien bledow
                                                              FILTR
                                                                  strumien wyjsciowy
                                                                  
>   Przekazanie wyniku dzialania polecenia (ze strumienia wyjsciowego)

<   Przekazanie poleceniu danych do przetwarzania (do strumienia wejsciowego)

|   Przefiltrowanie danych tworzonych w wyniku dzialania polecenia przed przekazaniem ich do urzadzenia 
    lub pliku odbierajacego je (w ramach strumeinia wyjsciowego)
    
2>  Przekazanie komunikatow o bledach (ze strumenia bledow)

>>  Dolaczenie danych tworzonych w wyniku dzialania polecenia (ze strumenia wyjsciowego) do istniejacego pliku bez jego 
    wczesniejszego usuwania (jesli plik nie istnieje, zostaje utworzony)
    
Przyklady:

ls -l > '/katalog'   Zapisanie rozbudowanej listy plikow w pliku o nazwie 'katalog', tworzonym w katalogu domowym 
                     aktualnie zalogowanego uzytkownika
                     
cat dlugiplik.txt | grep xyz    Przefiltrowanie wyniku dzialania cat dlugiplik.txt (wyswietlajacego na ekranie zawartosc 
                                pliku o nazwie dlugiplik.txt) za pomoca programu grep, wyszukujacego w swoim 
                                strumieniu wejsciowym wiersze zawierajace podany ciag znakow. Na ekranie wyswietlone zostana 
                                tylko wiersze pliku dlugiplik.txt, zawierajace znaki xyz.
                                
-------------------------------------------------------------------------------------------------------------------------------------
Ogranicznie zbioru danych 

cat       Wyswietla zawartosc pliku o sciezce dostepu. 
          Z najuzyteczniejszych opcji warto wymienic -n powodujaca numerowanie kolejnych wierszy pliku.               

more      Spowalnia przeplyw informacji, zatrzymujac wyprowadzanie danych po kazdym pelnym ekranie. 
          Umozliwia pomijanie fragmentow danych za pomoca polecen podawanych z klawiatury (szczegoly man more).
          Uproszczona wersja polecenia less. Jesli nie ma przeciwwskazan, powinno byc stosowane polecenie less.
          Obsluga: klawisz spacji powoduje wyswietlenie kolejnej partii tekstu, klawisz Q przerywa wyswietlanie strumienia danych     
           
          Przyklad: cat /home/jakub/dlugiplik.txt | more
          
less      Spowalnia przeplyw informacji, zatrzymujac wyprowadzanie danych po kazdym pelnym ekranie. 
          Umozliwia przewijanie danych za pomoca klawiszy sterowania kursorem oraz PageUp i PageDown. 
          Nacisniecie klawisza Q przeywa wyswietlanie strumenia danych.
          Klawisz / daje mozliwosc odszukania w tekscie podanego po jego nacisnieciu slowa lub wyrazenia
          
          Przyklad: cat /home/jakub/dlugiplik.txt | less
          
    
head -n 'plik'      Ogranicza liczbe wyprowadzanych informacji do n pierwszych wierszy pliku o nazwie 'plik'.

                    Przyklady: head -5 /etc/passwd
                          cat /home/luzak/1.txt | head -20
                          
tail -n 'plik'      Ogranicza liczbe wyprowadzonych informacji do n ostatnich wierszy pliku o nazwie 'plik'.

                    Przyklady: tail -5 /etc/passwd
                           cat /home/luzak/1.txt | tail -20

grep 'opcje''tekst''plik'     Wyszukuje w pliku 'plik' (lub w potoku danych) podany tekst i wypisuje wiersze tekstu, w ktorym dana fraza  
                              wystapila choc raz. 
                              Uzyteczne opcje:
                              -A n- wypisuje n wierszy tekstu za kazdym znalezionym,
                              -B n- wypisuje n wierszy tekstu przed kazdym znalezionym,
                              -c - zamiast wyszukiwania zlicza tylko wystapienia frazy, 
                              -i - ignoruje wielkosc znakow,
                              -n - wypisuje przed kazdym wierszem numer tego wiersza w pliku,
                              -v - odwraca dzialanie, wyszukujac wiersze niezawierajace podanej frazy.
                              
                              Przyklad: 
                              cat log.txt | grep -v „10.0.0.1"
                              
-------------------------------------------------------------------------------------------------------------------------------------
Tworzenie Trwalych Sesji

screen 'opcje'      Tworzy nowa trwala sesje uzytkownika (przy braku parametrow) lub przylacza sie do jednej z istniejacych. 
                    Trwale sesje dzialaja bez przerwy, nawet jezeli uzytkownik wyloguje sie z komputera lub zostanie od niego odlaczony 
                    (przy pracy zdalnej). 
                    
Opcje: 

-list -   wyswietla liste obecnych w pamieci sesji, 
                              
-r -      przylacza uzytkownika do jednej z dzialajacych na danym komputerze i nalezacych do niego sesji 
          (w razie istnienia kilku sesji ich lista zostanie wyswietlona na ekranie, a identyfikator sesji nalezy podac jako parametr opcji -r), 
                    
-d -      rozlacza sesje, jezeli jest ona uzywana z innego komputera (czesto uzywa sie polaczenia opcji -d -r, 
          aby rozlaczyc sesje i przylaczyc sie do niej od razu z lokalnego komputera), 
                              
-s 'nazwa' -    nadaje tworzonej sesji opisowa nazwe. 


Kombinacje klawiszy obowiązujące w ramach sesji: 

Ctrl+A, 0-9 - przelacza na jedna z dziesieciu konsoli wirtualnych w ramach sesji, 
Ctrl+A, C - tworzy nową konsole wirtualna w ramach aktywnej sesji, 
Ctrl+A, O - odlacza biezaca sesje, 
Ctrl+A, K - likwiduje biezaca konsole wirtualna, 
Ctrl+A, W - wyswietla liste konsoli wirtualnych w ramach sesji. 

-------------------------------------------------------------------------------------------------------------------------------------

Diagnostyka Dzialania Systemu Operacyjnego 

Polecenie top


Poszczegolne wiersze planszy programu top zawieraja nastepujace informacje:


I. Wiersz pierwszy:

14:09:53 up 57 min, 3 users, load average: 0.05, 0,20, 0,22

informuje o aktualnym czasie (14:09:53), 
czasie nieprzerwanej pracy systemu operacyjnego (up 57 min), 
liczbie zalogowanych na komputerze uzytkownikow (3 users) 
oraz srednim obciazeniu obliczeniowym komputera, mierzonym w trzech roznych przedzialach czasu (load average).


II. Wiersz drugi:

60 processes: 58 sleeping, 2 running, 0 zombie, 0 stopped

Informuje o sumarycznej liczbie procesow dzialajacych w systemie (60 processes), a w tym o:
liczbie procesow czekajacych na jakies zdarzenie 58 sleeping),
liczbie procesow aktualnie wykonywanych (2 running),
liczbie procesow, ktore zakonczyly dzialanie, jednak nie moga byc jeszcze usuniete (0 zombie)
oraz liczbie procesow, ktorych dzialanie zostalo swiadomie wstrzymane przez uzytkownika lub administratora (0 stopped)

III i IV. Wiersz trzeci i czwarty:

CPU states: user 2,1% nice 0,0% system 7,0%

Informuje o obciazeniu obliczeniowym procesora, generowanym przez procesy uzytkownika (user 2,1%),
procesy o obnizonym priorytecie (nice 0,0%),
kernel systemu operacyjnego (system 7,0%).

/* ?!

irq 0,0% softirq 0,0% idle 90,8%

Informuje o przerwaniach sprzetowych (irq 0,0%),
przerwaniach programowych (softirq 0,0%),
operacje wejscia-wyjscia (iowait 0,0%);                                                               prawdopodobnie wa
pole idle informuje natomiast o mocy obliczeniowej, dostepnej w danym momencie do wykorzystania.      prawdopodobnie id

*/

V i VI. Wiersz piaty i szosty:

Mem: 126000k av, 121040k used, 4960k free, 0k shrd, 9772k buff

Informuje o dostepnej dla procesow fizycznej pamieci operacyjnej (RAM) komputera (126000k av),
wykorzystywanej pojemnosci pamieci (121040k used),
wolnej pojemnosci pamieci (4960k free),
pojemnosci blokow pamieci wspoldzielonych przez wiele procesow (0 shrd),
pojemnosci buforow podsystemu wejscia-wyjscia (9772k buff)

72088k active, 37486k inactive

Informuje o obszarze pamieci aktywnie wykorzystywanym (72088k active) 
i potencjalnie przeznaczonym do przeniesienia do pliku wymiany (37486k inactive).

VII. Wiersz siodmy:

Swap: 305224k av, 8184k used, 297040 free

Informuje o rozmiarze przestrzeni partycji pliku wymiany (305224k av), 
stopniu wykorzystania tej przestrzeni (8184k used)
oraz pozostalym wolnym miejscu (297040k free).

/*  
Wszystkie wartosci dotyczace zajetosci pamieci i powierzchni partycji pliku wymiany w programie top zakonczone sa 
mala litera k - jest to blad. Wartosci te podane sa w binarnych kilobajtach (kibibajtach). Poprawnym oznaczeniem 
bylaby wielka litera K lub - zgodnie z norma SI- oznaczenie Ki.
*/

Poszczegolne kolumny tabeli wyswietlanej w dolnej czesci ekranu maja nastepujace znaczenie:

PID -   numeryczny identyfikator procesu,
User-   nazwa konta uzytkownika, z ktorego prawami wykonywany jest kod procesu,
Pri -   wewnetrzny systemowy priorytet kodu procesu,
Ni -    nadany przez uzytkownika priorytet kolejnoci wykonywania kodu procesu,
Size -  obszar pamieci wirtualnej zarezerwowany na potrzeby procesu,
RSS -   rzeczywisty obszar fizycznej (realnej) pamieci operacyjnej komputera przydzielonej aktualnie danemu procesowi,
Share - rozmiar obszaru pamieci operacyjnej, wspoldzielonego z innymi procesami,
Stat -  stan procesu,
%CPU -  wzgledny stopien wykorzystania mocy obliczeniowej procesora komputera przez dany proces,
%Mem -  wzgledny stopien wykorzystania pamieci operacyjnej kopmutera przez dany proces,
Time -  czas nieprzerwanej pracy procesora komputera, dotychczas wykorzystany przez proces,
CPU -   numer procesora komputera, ktory wykonuje kod procesu,
Command -  tekst polecenia uzytego do uruchomienia procesu.

Kombinacje klawiszy:

Shift+M   Sortowanie listy procesow wedle zajetosci pamieci operacyjnej.
Shift+P   Sortowanie listy procesow wedle obciazenia procesora.
k         Wysylanie sygnalu procesowi o podanym odentyfikatorze PID: Sygnal Znaczenie
           1 - Ponowne odczytanie pliku konfiguracyjnego programu(obslugiwane przez niektore programy)
           9 - Informuje proces, ze za chwile zostanie zkonczony, po czy natychwiast wylacz ten proces.
                Tej metody powinno uzywac sie w ostatecznosci, gdy oporny proces nie reaguje na sygnal 15
           15 - Informuje proces, ze powinien on elegancko zakonczyc swoja prace. Poniewaz sygnal ten moze zostac zignorowany 
                przez kod programu, nie zawsze skutecznie realizuje swoja funkcje; jednak - jako ze jego uzycie nie przerywa 
                w brutalny sposob dzialania kodu - istnieje niewielkie ryzyko, bo ponowne uruchomienie zatrzymanego 
                w ten sposob programu bylo niemozliwe.

Q        Zakonczenie pracy programu top.

Wylaczanie procesow moze zaklocic dzialanie systemu operacyjnego; jesli wylaczysz jedne z procesow nizbednych 
do funkcjonowania systemu, mozesz zostac zmuszony do ponownego jego uruchomnienia. 

Uzytkownicy moga przerywac dzialanie jedynie tych procesow, ktorych prace sami zainicjowali. 
Jedynie administrator systemu (root) moze przerywac prace dowolnych procesow.

Polecenie ps

ps
Najczesciej stosowane parametry:

r -   Ogranicza liste do procesow aktywnych w danym momencie (ktorych kod jest w trakcie wykonywania przez procesor)
x -   Wyswietla procesy uruchomione na wszystkich terminalach systemu
U 'nazwa' -   Ogranicza liste do procesow nalezacych do uzytkownika o nazwie 'nazwa'
u -   Wyswietla wiecej informacji na temat wykorzystania pamieci operacyjnej i wirtualnej przez analizowane procesy
m -   Wyswietla wszystkie watki analizowanych procesow
w -   Umozliwia programowi ps wyswietlanie szerszej tabeli (o dlugosci wierszy przekraczajacej 80 znakow).
ww -  Jeszcze wieksza dopuszczalna dlugosc wierszy

Przyklady:

ps u   Wyswietlenie szczegolowych informacji na temat uruchomionych w czasie danej sesji procesow

ps ux  Wyswietlenie szczegolowych informacji na temat wszystkich procesow dzialajacych w systemie

ps uU 'luzak'   Wyswietlenie wszystkich procesow uruchomionych przez uzytkownika 'luzak'


kill 'opcje' pid      Wysyla uruchomionemu programowi (procesowi) o identyfikatorze pid informacje o koniecznosci chwilowego 
                      lub trwalego przerwania pracy. Rodzaj przesylanego sygnalu mozna okreslic za pomocą opcji -s n, 
                      gdzie n to identyfikator sygnału (lista w tabeli ponizej). 
                      
                      Przykład: kill -s 15 grep 
                      
 killall 'opcje''nazwa'     Funkcjonuje podobnie jak kill, jednak przesyla informacje nie wybranemu procesowi, lecz wszystkim procesom 
                            o podanej nazwie. 

                            Przyklad: killall -s 9 cat

Lista Sygnalow Przesylanych Procesom

SIGHUP 1    Zakonczenie lub przekonfigurowanie programu 
SIGINT 2    Program przerwany za pomoca kombinacji klawiszy
SIGQUIT 3   Program zakonczony decyzja uzytkownika 
SIGKILL 9   Program ma zostac bezwarunkowo zakonczonv 
SIGTERM 15  Program ma zakonczyc prace w sposob kontrolowany 


hdparm 'opcje' urzadzenie       Umozliwia pobranie informacji o urzadzeniu dyskowym i zbadanie jego wydajnosci. 

Najczesciej uzywane opcje: 

-B n -  ustala poziom agresywnosci dzialania mechanizmu oszczedzania energii przez dysk twardy (im mniejsze wartosci n, tym nizsza wydajnosc 
        i wieksza oszczednosc mocy, 255 wylacza oszczednosc calkowicie), 

-i -    wyswietla dane techniczne urzadzenia, obowiazujace w momencie uruchamiania systemu operacyjnego,

-I -    wyswietla dane techniczne urzadzenia i aktualne informacje o jego stanie,

-5 n -  ustala czas, po ktorym dysk bedzie zatrzymywal ruch talerzy i przechodzil w stan uspienia (n może przyjmowac wartosci od 1 do 240
        i oznacza jednostki 5-sekundowe; 0 wylacza mechanizm usypiania),

-T -    mierzy szybkosc transmisji danych z uwzglednieniem funkcjonowania bufora systemu operacyjnego,

-t -    mierzy realna szybkosc transmisji danych z nosnika do pamieci. 

Przyklad: 
root@shoebox: /home/gruszka# hdparm -T -t /dev/hda 
/dev/hda: 
Timing cached reads: 252 MB in 2.00 seconds = 125.81 MB/sec 
Timing buffered disk reads: 104 MB in 3.02 seconds = 34.42 MB/sec 
-------------------------------------------------------------------------------------------------------------------------------------                 
Diagnostyka Dzialania Polaczen Sieciowych


ifconfig      Wyswietla informacje na temat aktywnych polaczen sieciowych

    
    [root@yarrow root]# ifconfig
    eth0      Link encap:Ethernet   HWaddr 00:0C:29:F9:E8:3B
    
              inet addr:10.0.0.12   Bcast:10.255.255.255  Mask:255.0.0.0
              
              UP BROADCAST RUNNING MULTICAST    MTU:1500   Metric:1
              
              RX packets:167 errors:0 dropped:0 overruns:0 frame:0
              TX packets:100 errors:0 dropped:0 overruns:0 carrier:0
              
              collisions:0 txqueuelen:1000
              
              RX bytes:26091 (25.4 Kb)  TX bytes:7872 (7.6 Kb)
              
              Interrupt:11 Base address:0x10c0
    
    
    lo        Link encap:Local Loopback
              inet addr:127.0.0.1 Mask:255.0.0.0
              UP LOOPBACK RUNNING   MTU:16436   Metric:1
              RX packets:4743 errors:0 dropped:0 overruns:0 frame:0
              TX packets:4743 errors:0 dropped:0 overruns:0 carrier:0
              collisions:0 txqueuelen:0
              RX bytes:3898538 (3.7 Mb)     TX bytes:3898538 (3.7 Mb)
 
Pozycja lo odpowiada wirtualnemu urzadzeniu sieciowemu, ktore udaje karte sieciowa podlaczona do sieci, 
w ktorej nie znajduja sie zadne komputery poza Twoim (ktoremu w sieci odpowiada adres IP 127.0.0.1). 
Jest to tak zwany 'interfejs zwrotny'.


ping 'adres'    Wysyla do komputera o adresie (lub nazwie) 'adres' testowy pakiet danych ICMP i oczekuje odpowiedzi.
                Polecenie przydatne w czasie testowania sieci lokalnych lub dzialania polaczenia internetowego.
                
Najczesciej stosowane parametry:
                
-c n        Ogranicza liczbe pakietow do n (standardowo test polaczenia przebiega bez konca, az do momentu uzycia Ctrl+C)

-i 'czas'   Modyfikuje czas (w sekundach) uplywajacy miedzy kolejnymi probami nadania pakietu testowego.

-n          Wylacza mozliwosc zmiany adresow IP na odpowiadajace im nazwy komputerow 
            (przydatne w razie klopotow z dzialaniem uslugi DNS).

-q          Wylacza wyswietlanie informacji o odebranych prawidlowo pakietach; w czasie konczenia pracy programu wyswietlana 
            jest jedynie statystyka przeprowadzonego testu polaczenia.
            
-s 'rozmiar'    Okresla rozmiar testowych pakietow danych.

-W 'czas'   Okresla czas (w sekundach), jaki program czeka na uzyskanie odpowiedzi (echa) na wyslany pakiet testowy.


Przyklad:

root@shoebox:/src> ping 10.0.0.1 -c 5

PING 10.0.0.1 (10.0.0.1) 56(84) bytes of data.
64 bytes from 10.0.0.1: icmp_seq=1  ttl=64  time=0.341 ms
64 bytes from 10.0.0.1: icmp_seq=2  ttl=64  time=0.279 ms
64 bytes from 10.0.0.1: icmp_seq=3  ttl=64  time=0.244 ms
64 bytes from 10.0.0.1: icmp_seq=4  ttl=64  time=0.281 ms
64 bytes from 10.0.0.1: icmp_seq=5  ttl=64  time=0.255 ms
--- 10.0.0.1 ping statistics ---
5 packets transmitted, 5 recived, 0% packet loss, time 4033ms
rtt min/avg/max/mdev = 0.244/0.280/0.341/0.033 ms


traceroute 'nazwa' (rowniez: tracepath 'nazwa')  Wyswietla trase, jaka przebywaja pakiety danych przeslane do komputera o adresie/nazwie 'nazwa'.


Najczesciej stosowane pakiety:

-I      Przeprowadza test za pomoca pakietow ICMP (domyslnie: UDP)

-n      Wylacza mozliwosc zamiany adresow IP na odpowiadajace im nazwy komputerow 
        (przydatne w razie klopotow z dzialaniem DNS).
        
-w 'czas'     Okresla czas (w sekundach), jaki program czeka na uzyskanie odpwoiedzi (echa) na wyslany pakiet testowy.


Przyklad:

root@shoebox:/src> treaceroute 157.158.36.242
traceroute to 157.158.36.242 (157.158.36.242), 30 hops max, 38 byte packets
1   gliw-gate.necik.pl  (213.76.162.1)  10.552 ms  1.928 ms   2.173 ms
2   Motorola.Magsoft.com.pl   (213.76.162.254)   135.799 ms *  71.401 ms
3   213.25.193.237  (213.25.193.237)  151.434 ms  264.818 ms  95.245 ms
4   z.kat-r2.do.kat_r2.tpnet.pl  (195.205.0.153)  184.909 ms   249.591 ms   231.478 ms
5   z.kat-r2.do.kat-rl.tpnet.pl  (195.204.175.187)   114.260 ms   193.740 ms   197.480 ms  
6   * do.kat_ar4.z.kat_rl.tpnet.pl  (213.25.5.213)   183.355 ms   143.400 ms
7   do-sask.katowice.tpnet.pl  (194.204.145.130)    189.123 ms   117.858 ms   121.295 ms
8   pc242.elektr.polsl.gliwice.pl  (157.158.36.242)   215.145 ms  180.132 ms   130.100 ms


netstat         Wyswietla liste wszystkich aktywnych w danym momencie polaczen TCP oraz nasluchujacych gniazd TCP i UDP.

Najczesciej stosowane parametry:

-r    Wyswietla tablice zasad przekazywania pakietow miedzy interfejsami sieciowymi.

-n    Wylacza mozliwosc zamiany adresow IP na odpowiadajace im nazwy komputerow 
      (przydatne w razie klopotow z dzialaniem uslugi DNS).
      
-c    Wlacza tryb ciaglego aktualizowania wyswietlanych informacji 

-l    Wlacza tryb wyswietlania nasluchujacych gniazd TCP i UDP.


Przyklad:

root@shoebox:/src>  netstat -n

Kernel IP routing table
Destination   Gateway       Genmask         Flags     MSS Window    irtt Iface
213.76.162.0  0.0.0.0       255.255.255.224   U           0 0           0 ethl
10.0.0.0      0.0.0.0       255.0.0.0         U           0 0           0 eth0
127.0.0.0     0.0.0.0       255.0.0.0         U           0 0           0 lo
0.0.0.0       213.76.162.1  0.0.0.0           UG          0 0           0 ethl


host        Dokonuje translacji nazwy komputera na adres IP lub na odwrot. 
            
Opcja -t umozliwia podanie rodzaju rekordu DNS do odczytania. 
            
Przyklad: 

user@shoebox :-$ host www. grush. one.pl 
www.grush.one.pl has address 85.14.98.13 

user@shoebox :-$ host 157 .158. 3 .1 
1.3.158.157.in-addr.arpa domain name pointer castor.polsl.pl. 

user@shoebox :-$ host -t MX poczta. onet. pl 
poczta.onet.pl mail is handled by 10 mx.poczta.onet.pl. 
 
-------------------------------------------------------------------------------------------------------------------------------------
Konfiguracja Zapory Sieciowej IPTABLES


iptables -L         Wyswietlanie aktualnej konfiguracji zapory sieciowej

Dodatkowy parametr -n       spowoduje wylaczenie konwersji adresow IP na odpowiadajace im nazwy komputerow 
                            oraz numerow portow na odpowiadajace im nazwy uslug sieciowych.
                            
------------------------------------------------------------------------------------------------------------------------

Interpretacja wierszy tabeli iptables

ACCEPT         udp         --        0.0.0.0/0   0.0.0.0/0   udp  spt:53
Cel pakietu    Protokol    Opcje     Zrodlo      Cel         Informacje dodatkowe

------------------------------------------------------------------------------------------------------------------------

Cel pakietow

- ACCEPT  - Pakiet jest akceptowany, jesli jego zdaniem bylo utworzenie nowego polaczenia, 
            zapora sieciowa zapamietuje fakt nawiazania polaczenia.
            
- REJECT  - Pakiet jest odrzucany. Jesli jego zadaniem bylo utworzenie nowego polaczenia, nie dojdzie ono do skutku.

- DROP    - Pakiet jest odrzucany bez powiadamiania o tym strony nadajacej go. 
            Jesli jego zadaniem bylo utworzenie nowego polaczenia, nie dojdzie ono skutku.
            
------------------------------------------------------------------------------------------------------------------------
            
Zadania pakietu
 
- NEW     - Opisuje pakiet danych, ktorego zadaniem jest nawiazanie nowego polaczenia. Napotykajac taki pakiet 
            i akceptujac go, zapora sieciowa automatycznie zapamietuje rowniez fakt nawiazania polaczenia.
            
- ESTABLISHED - Opisuje pakiet danych, ktory nalezy do istniejacego polaczenia.

- RELATED - opisuje pakiet danych, ktorego zadaniem jest nawiazanie nowego polaczenia, 
            logicznie jednak wynikajacego z jednego z juz istniejacych polaczen. 
            
- INVALID - Opisuje pakiet danych, ktorego przynaleznosci do polaczenia nie sposob okreslic.

------------------------------------------------------------------------------------------------------------------------

Dodanie reguly zapory sieciowej

iptables 'parametry'

Parametry:
-A 'nazwa-lancucha'   Dolacza formule zapory sieciowej na koncu fragmentu tabeli odpowiadajacego lancuchowi 
                      o nazwie 'nazwa-lancucha'.

-m state --state 'zadanie'    Analizowane sa tylko pakiety danych o zadaniu okreslonym w parametrze 'zadanie'. 
                              Mozliwe  zadania to:
                              - NEW (nowe polaczenie),
                              - ESTABLISHED (juz nawiazane polaczenie),
                              - RELATED (nowe polaczenie zalezne od istniejacego),
                              - INVALID (nieznane).
                              Jesli uzywany jest parametr NEW, powinien byc dolaczony -m tcp 
                              (aby sledzenie polaczen dotyczylo protokulu TCP).
                              
-p 'protokol'   Wybiera protokol IP sledzony przez formule. 
                Najczesciej spotykane protokoly to: TCP (tcp), UDP (udp) i ICMP (icmp).
                
-s 'adres'    Analizowane sa tylko pakiety pochodzace od komputera o adresie IP 'adres'.
              Aby zablokowac szersza grupe komputerow, rozszerz adres o maske sieci, oddzielona od adresu ukosnikiem
              (na przyklad: 194.204.152.0/255.255.255.0 lub 194.204.152.0/24).
              
--sport 'port'    Analizowane sa tylko pakiety przychodzace z portu 'port'. 
                  Aby zablokowac szerszy zakres portow, nalezy podac zakres w postaci dwoch liczb rozdzielonych dwukropkiem
                  (na przyklad: 25:80)
                  
-d 'adres'    Analizowane sa tylko pakiety zaadresowane do komputera o adresie IP 'adres'. 
              Aby zablokowac szersza grupe komputerow, nalezy rozszerzyc maske sieci oddzieolna ukosnikiem 
              (na przyklad: 194.204.152.0/255.255.255.0 lub 194.204.152.0/24).
              
--dport 'port'    Analizowane sa tylko pakiety zaadresowane do portu 'port'. 
                  Aby zablokowac szerszy zakres portow, nalezy podac zakres w postaci dwoch liczb rozdzielonych dwukropkiem 
                  (na przyklad: 25:80)
                  
-j 'cel'    Kieruje pakiet do innego lancucha przetwarzania pakietow lub od razu odrzuca go (REJECT) lub akceptuje (ACCEPT).

------------------------------------------------------------------------------------------------------------------------

Dzialanie stalego dostepu do Internetu w sieci lokalnej

iptables -t nat -A POSTROUTING -o 'karta-zewnetrzna' -s 'IP-wewnetrzne'/'maska-wewnatrzna' -j SNAT --to 'IP-zewnetrzne'

gdzie:
        karta-zewnetrzna -  identyfikator karty sieciowej realizujacej polaczenie z Internetem - na przyklad eth0,
        IP-wewnetrzne -    adres IP sieci wewnetrznej (lokalnej) - na przyklad 10.0.0.0,
        maska-wewnetrzna -  maska sieci wewnetrznej (lokalnej) - na przyklad 255.0.0.0,
        IP-zewnetrzne -   adres IP przydzielony karcie sieciowej realizujacej polaczenie z Internetem.
        
Zamiast karty sieciowej polaczenie z Internetem moze realizowac rowniez inne urzadzenie. 
W sposob podobny do opisanego mozna rozdzielic dostep do Internetu uzyskany poprzez modem, SDI, neostrade czy DSL.
Niestety, moze wymagac to troche innego podejscia do problemu. W razie potrzeby nalezy poszukac informacji w Internecie 
- bez problemu powinny byc dostepne podreczniki opisujace krok po kroku konfiguracje serwera rozdzielajacego dostep do sieci.

------------------------------------------------------------------------------------------------------------------------

Automatyzacja Pobierania Plikow


wget 'opcje' URL      Pobiera plik o podanym adresie URL i zapisuje na dysku komputera. 
================


Opcje:
-Onazwa -   narzuca nazwe (lub rowniez katalog docelowy) pliku, 

-c -        kontynuuje pobieranie pliku od momentu przerwania, pod warunkiem ze nazwy pliku docelowego w poprzednim i aktualnym 
            procesie pobierania sa identyczne,
            
--lim it -rate=n -    ogranicza szybkosc pobierania danych do co najwyzej n bajtow na sekunde, 

-q -        pobiera plik w tle, bez wyswietlania komunikatow na ekranie, 

-t n -      ogranicza liczbe automatycznych prob pobrania pliku (gdy jest to mozliwe) do n, 

-T n -      nakazuje oczekiwanie na odpowiedz serwera (lub dane) do n sekund, 

-r -        pobiera wszystkie pliki zalezne (skladowe) danego dokumentu HTML lub katalogu FTP. 


seq 'opcje' n m         Generuje sekwencje liczb od n dom, wypisywanych w kolejnych wierszach. 
================


W przypadku podania opcji -w kolejne liczby sa dopelniane z lewej strony zerami, aby miec jednakowa szerokosc liczona w znakach. 

Przyklad: 
user@shoebox:- seq 1 3 

1 
2 
3 

for         Tworzy petle o okreslonych warunkach brzegowych. 
=====

W polaczeniu z poleceniami seq i wget umozliwia wygodne, automatyczne pobieranie serii plikow o kolejno numerowanych nazwach. 

Na przyklad:
for i in ·seq -w 1 20·; do wget http://serwer/dokumenty/$i.doc; done; 

spowoduje automatyczne pobranie plikow o nazwach od OO.doc do 20.doc z katalogu dokumenty serwera serwer.

-------------------------------------------------------------------------------------------------------------------------------------
Polaczenia SSH

Klient SSH 

ssh [uzytkownik@]host       Nawiazanie bezpiecznego, szyfrowanego polaczenia z serwerem SSH na komputerze o nazwie host. 
                            Domyslnie dokonywana jest autoryzacja uzytkownika o nazwie takiej jak na lokalnym komputerze 
                            (aby to zmienic, nalezy podac nazwe konta przed nazwa hosta, oddzielajac je znakiem @). 
                            
Opcje:

-1 - uzywa wylacznie starszej wersji 1.0 protokołu SSH, 
-2 - uzywa wersji 2.0 protokolu, 
-4 - uzywa polaczenia 1Pv4, 
-6 - uzywa polaczenia 1Pv6, 
-c - uaktywnia kompresje danych przesylanych w ramach polaczenia (zalecane tylko dla wolnych sieci). 



Zabezpieczanie serwera SSH 

Istotne wpisy konfiguracyjne w pliku /etc/ssh/sshd_config: 

Protocol 2, 1           Standardowo obslugiwane sa dwie wersje protokołu SSH. 
                        Aby zwiększyć poziom bezpieczeństwa, można wyłączyć wersję 1 (Protocol 2) 
                        
PermitRootLogin yes     Standardowo system dopuszcza bezposrednie logowanie sie administratora. 
                        Po zmienieniu tej opcji na Permit Rootlogin no potencjalny wlamywacz musi zgadnac nie tylko haslo administratora, 
                        ale tez nazwe konta i haslo któoegos z uzytkownikow serwera 
                        
AllowUsers              Umozliwia wprowadzenie listy kont uzytkownikow, ktorzy maja prawo korzystac z uslugi SSH 
                        (standardowo prawo to maja wszystkie konta uzytkownikow). Lista nazw kont jest rozdzielona znakami odstepu 
                        
DenyUsers               Umozliwia odebranie prawa korzystania z uslugi SSH okreslonym kontom uzytkownikow.
                        Lista nazw kont jest rozdzielona znakami odstepu 
                        
Banner                  Informacja podawana przed zapytaniem o nazwe konta uzytkownika 

-------------------------------------------------------------------------------------------------------------------------------------
Kompilacja Oprogramowania

make        Kompilacja programu wielomodulowego, ktory jest wyposazony w plik Makefile i okresla liste plikow skladowych 
            oraz zaleznosci miedzy nimi. 
                     
Czesto dostepna opcja: 

clean - usuwa posrednie pliki kompilacji zaraz po pomyslnie zakonczonej kompilacji calego pakietu; 
        przydatne, gdy nie chce sie już dokonywac dalszych poprawek w kodzie zrodlowym i wykonywac kolejnych przebiegow kompilacji. 

install - dokonuje instalacji programu w systemie (wymaga to uprawnien administratora). 

uninstall - usuwa zainstalowane wczesniej poleceniem install pliki skladowe z systemu. 


Kompilacja kernela systemu Linux: 

make - kompilacja kernela systemu Linux 2.6 (wraz z modulami),
make bzimage - kompilacja samego kernela systemu Linux 2.4 (bez modułow), 
make modules - kompilacja modułow kernela Linux 2.4, 
make modules_install- automatyczna instalacja modułow kernela w katalogu /lib/modules. 


gcc 'opcje''plik-zrodlowy' -o 'plik-wynikowy'    Dokonuje kompilacji pliku zrodlowego w jezyku C na jego postac binarna, 
                                                 umieszczajac kod maszynowy w pliku pL ikwynikowy. 
                                                 W razie potrzeby kompiluje kilka podanych plikow zrodlowych 
                                                 lub laczy ze soba wczesniej skompilowane binarne moduly biblioteczne. 
                                            
Najczesciej stosowane opcje: 

-c -        dokonuje kompilacji do postaci binarnego modulu bibliotecznego zamiast do postaci samodzielnego pliku wykonywalnego, 
-s -        tlumaczy program na postac asemblerowa, nie dokonujac ostatecznej kompilacji, 
-on -       wlacza jeden z pieciu poziomow optymalizacji (O -brak, 1 -zalecana, lekka, 2 -silniejsza, 3 -najsilniejsza, niezalecana, 
                                                          s -optymalizacja pod katem rozmiaru programu), 

-s -        wylacza dodawanie do programu informacji diagnostycznych, znacznie zmniejszajac rozmiar generowanego pliku wynikowego. 

-------------------------------------------------------------------------------------------------------------------------------------
Zmiana Trybu Dzialania Systemu

telinit 'tryb'     Zmienia tryb dzialania systemu na 'tryb'. 
===============

Polecenie mozliwe do wykonania jedynie przez uzytkownika uprzywilejowanego (root).

Możliwe tryby działania systemu to:
0 (zarezerwowany, wykorzystywany podczas zatrzymywania systemu), 
1 (tryb administracyjny bez wielodostepu - ang. single-user mode - wykorzystywany do konserwacji systemu bez ryzyka rownoległej pracy 
  innych uzytkownikow), 
2, 3, 4, 5 (standardowe tryby tekstowe -zazwyczaj 2,3 - i graficzne - zazwyczaj 4,5) oraz 
6 (zarezerwowany, wykorzystywany podczas powtornego uruchamiania systemu).



runlevel        Wyswietla poprzedni oraz biezacy tryb dzialania systemu.
==========

W miejscu poprzedniego trybu moze byc wyswietlana litera N oznaczajaca, ze biezacy tryb jest pierwszym, w jaki zostal wprowadzony system 
od momentu uruchomienia. 

Realizacja polecenia nie wymaga uprawnien uzytkownika uprzywilejowanego. 



shutdown 'opcja''kiedy' [komunikat]         Powoduje zatrzymanie dzialania wszystkich procesow wszystkich uzytkownikow, 
======================================      zamkniecie systemu operacyjnego oraz - opcjonalnie - wylaczenie komputera. 
                                        
Opcjonalnie uzytkownikom moze zostac przekazany komunikat o tresci wprowadzonej na koncu wiersza polecenia. 

Mozliwe opcje:
-h (zatrzymanie lub wylaczenie), 
-H (zatrzymanie), 
-P (wylaczenie), 
-r (powtorne uruchomienie), 
-k (zablokowanie mozliwosci logowania sie bez zatrzymywania systemu). 

Czas realizacji polecenia (kiedy) moze zostac podany w formacie godzina:minuty lub jako slowo now, oznaczajace koniecznosc natychmiastowej 
realizacji wybranej operacji.


halt        Wymusza zatrzymanie dzialania systemu operacyjnego i wylaczenie komputera. 
======

Polecenie mozliwe do wykonania jedynie przez uzytkownika uprzywilejowanego (root). 
Synonim polecenia shutdown z odpowiednimi parametrami. 


reboot      Wymusza powtorne uruchomienie systemu operacyjnego. 
========

Polecenie mozliwe do wykonania jedynie przez uzytkownika uprzywilejowanego (root). 
Synonim polecenia shutdown z odpowiednimi parametrami.

-------------------------------------------------------------------------------------------------------------------------------------
